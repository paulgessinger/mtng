% \section{Merged Pull Requests since {{ last.strftime('%Y-%m-%d') }} }

{% for repo_name, repo in repos.items() %}

\section{ {{ repo_name }} }

{% if repo["merged_prs"]|length > 0 %}

\begin{frame}[allowframebreaks]{ {{ repo_name }}: PRs merged since {{ last.strftime('%Y-%m-%d') }} }

  \begin{itemize}
    {% for pr in repo["merged_prs"]|sort(attribute="merged_at") %}

    \item
    \begin{varwidth}[t]{3em}
      \href{ {{- pr.html_url -}} }{\#{{- pr.number -}} } -
    \end{varwidth}%
    \hspace{1mm}%
    \begin{varwidth}[t]{\textwidth-4em}
          \textbf{ {{- pr.title|sanitize -}} }\\
          by \href{ {{- pr.user.html_url -}} }{ @{{- pr.user.login|sanitize -}} }, merged on {{ pr.merged_at.strftime('%Y-%m-%d') }}
    \end{varwidth}

    {% endfor %}
  \end{itemize}

\end{frame}

{% else %}
\begin{frame}[c]{}
  \begin{center}
    \Large
    \color{shivablue}
    \sffamily 
    No merged PRs since \textbf{ {{ last.strftime('%Y-%m-%d') }} } in\\
    \textbf{ {{ repo_name }} }
  \end{center}
\end{frame}
{% endif %}

\begin{frame}[allowframebreaks]{ {{ repo_name }}: Open PRs}

  \begin{itemize}
    {% for pr in repo["open_prs"]|sort(reverse=True, attribute="updated_at") %}

    \item
    \begin{varwidth}[t]{3em}
      \href{ {{- pr.html_url -}} }{\#{{- pr.number -}} } -
    \end{varwidth}%
    \hspace{1mm}%
    \begin{varwidth}[t]{\textwidth-4em}
          \textbf{ {{- pr.title|sanitize -}} }\\
          by \href{ {{- pr.user.html_url -}} }{ @{{- pr.user.login|sanitize -}} }, updated on {{ pr.updated_at.strftime('%Y-%m-%d') }}
    \end{varwidth}

    {% endfor %}
  \end{itemize}

\end{frame}

{% endfor %}

% % \section{Open Pull Requests}

% {% for repo_name, repo in repos.items() %}

% \begin{frame}[allowframebreaks]{ {{ repo_name }}: Open PRs}

%   \begin{itemize}
%     {% for pr in repo["open_prs"]|sort(reverse=True, attribute="updated_at") %}

%     \item
%     \begin{varwidth}[t]{3em}
%       \href{ {{- pr.html_url -}} }{\#{{- pr.number -}} } -
%     \end{varwidth}%
%     \hspace{1mm}%
%     \begin{varwidth}[t]{\textwidth-4em}
%           \textbf{ {{- pr.title|sanitize -}} }\\
%           by \href{ {{- pr.user.html_url -}} }{ @{{- pr.user.login|sanitize -}} }, updated on {{ pr.updated_at.strftime('%Y-%m-%d') }}
%     \end{varwidth}

%     {% endfor %}
%   \end{itemize}

% \end{frame}

% {% endfor %}


{% if contributions|length > 0 %}
\begin{frame}[allowframebreaks]{Contributions today}

  \begin{itemize}
    {% for contrib in contributions %}

      \item
      \href{ {{- contrib["url"] -}} }{ \textbf{ {{- contrib["title"] -}} } } \\
      {% if contrib["speakers"]|length > 0 %}
      by {{ contrib["speakers"]|join(", ") }}
      {% endif %}
    {% endfor %}
  \end{itemize}


\end{frame}
{% endif %}